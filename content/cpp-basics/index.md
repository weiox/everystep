---
title: "C++ åŸºç¡€ä¸“æ å¤§çº²"
description: "é¢å‘å­¦è¿‡ C è¯­è¨€çš„è¯»è€…ï¼Œå¸®åŠ©ä½ åœ¨ C çš„åŸºç¡€ä¸Šå»ºç«‹å¯¹ C++ çš„å®è§‚è®¤çŸ¥ï¼Œå¹¶èƒ½ç”¨ C++ ç›´æŽ¥å†™å®žé™…é¡¹ç›®ã€‚"
---

è¿™ä¸ªä¸“æ ä¸»è¦é¢å‘**å·²ç»å­¦è¿‡ä¸€è½® C è¯­è¨€**çš„è¯»è€…ï¼ˆæ¯”å¦‚å¤§ä¸€åˆšä¸Šå®Œ C è¯¾ï¼Œæˆ–è€…ç”¨ C å†™è¿‡ä¸€äº›å°é¡¹ç›®ï¼‰ï¼Œå¸Œæœ›åœ¨æ­¤åŸºç¡€ä¸Š**çœ‹æ¸… C++ è¿™é—¨è¯­è¨€åˆ°åº•å¤šäº†äº›ä»€ä¹ˆã€åˆæƒ³è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Œå¹¶åœ¨è¯»å®Œä¹‹åŽå¯ä»¥ç›´æŽ¥ç”¨ C++ åŽ»å†™å®žé™…çš„å°å·¥å…·å’Œä¸šåŠ¡ä»£ç **ï¼Œè€Œä¸æ˜¯åªä¼šæŠŠ C ä»£ç ä¸¢è¿› `.cpp` é‡Œç¼–è¯‘ã€‚

æˆ‘ä»¬ä¸ä¼šäº‹æ— å·¨ç»†åœ°ç½—åˆ—æ¯ä¸€ä¸ªè¯­æ³•ç‚¹ï¼Œè€Œæ˜¯èšç„¦äºŽï¼šä»Žä½ å·²ç»æŽŒæ¡çš„ C å‡ºå‘ï¼Œ**å“ªäº›æ–°çš„æ¦‚å¿µå’Œè®¾è®¡ï¼Œä¼šç›´æŽ¥å½±å“ä½ å†™ C++ ç¨‹åºçš„æ–¹å¼**â€”â€”è¿™äº›æ˜¯ä½ â€œåªä¼š Cï¼Œè¿˜ä¸ä¼š C++â€æ—¶æœ€å€¼å¾—ä¼˜å…ˆè¡¥ä¸Šçš„é‚£ä¸€å°æ’®çŸ¥è¯†ã€‚

---

## ç¬¬ä¸€éƒ¨åˆ†ï¼šç±»åž‹ä¸Žå‡½æ•°

åœ¨ C é‡Œï¼Œä½ å·²ç»ä¹ æƒ¯äº† `int`ã€`double`ã€`struct` è¿™äº›åŸºæœ¬ç±»åž‹å’Œæ™®é€šçš„å‡½æ•°è°ƒç”¨ã€‚ä½†åœ¨ C++ é‡Œï¼š

- ç±»åž‹ç³»ç»Ÿè¢«ç”¨æ¥è¡¨è¾¾æ›´å¤šçº¦æŸï¼ˆæ¯”å¦‚ `const`ã€å¼•ç”¨ã€å¼ºç±»åž‹åˆ«åï¼‰ï¼›
- å‡½æ•°çš„â€œç­¾åâ€è¢«å½“ä½œä¸€ç§è®¾è®¡å·¥å…·ï¼Œè€Œä¸åªæ˜¯â€œèƒ½ä¸èƒ½é€šè¿‡ç¼–è¯‘â€ã€‚

- [x] **[C++ ç±»åž‹ç³»ç»Ÿé€Ÿè§ˆï¼šä»Ž int åˆ° auto](./cpp-type-system-overview.md)**
    - ä»Žæ•´ä½“è§†è§’ç†è§£ C++ ç±»åž‹ç³»ç»Ÿï¼šä¸Ž C çš„å·®å¼‚ã€ä¸Ž Java/Python ç­‰è¯­è¨€çš„å¯¹æ¯”ã€é™æ€ vs åŠ¨æ€çš„å–èˆï¼Œä»¥åŠå¦‚ä½•ç”¨ autoã€const å’Œè‡ªå®šä¹‰ç±»åž‹åœ¨ç¼–è¯‘æœŸè¡¨è¾¾çº¦æŸã€‚

- [x] **[å‡½æ•°ï¼šé€»è¾‘çš„åŸºæœ¬å•å…ƒ](./cpp-functions-basics.md)**
    - ä»Žâ€œä¸ºä»€ä¹ˆè¦æŠ½å‡½æ•°â€å‡ºå‘ï¼Œæ¢³ç†å‡½æ•°åœ¨æºç ã€ç¼–è¯‘å™¨å’Œé“¾æŽ¥å™¨ä¸­çš„è§’è‰²ï¼Œç†è§£å‡½æ•°ç­¾åã€å£°æ˜Žä¸Žå®šä¹‰çš„åŒºåˆ†ï¼Œä¸ºåŽç»­ä¸€ç³»åˆ—æŽ¥å£è®¾è®¡è¯é¢˜æ‰“åŸºç¡€ã€‚

- [x] **[å‚æ•°ä¼ é€’ï¼šå€¼ã€æŒ‡é’ˆã€å¼•ç”¨æ€Žä¹ˆé€‰ï¼Ÿ](./cpp-parameter-passing.md)**
    - é€šè¿‡ `swap` è¿™ä¸ªç»å…¸å¤§å‘ï¼Œæ‹†å¼€å€¼ä¼ é€’ã€æŒ‡é’ˆä¼ é€’å’Œå¼•ç”¨ä¼ é€’çš„å·®åˆ«ï¼Œç”¨â€œä¼šä¸ä¼šæ”¹ã€èƒ½ä¸èƒ½ä¸ºç©ºã€æ˜¯å¦åªè¯»â€è¿™äº›ç›´è§‰æ¥å¸®ä½ é€‰å‚æ•°ç±»åž‹ã€‚

- [x] **[é‡è½½ä¸Žé»˜è®¤å‚æ•°ï¼šè®©æŽ¥å£æ›´çµæ´»](./cpp-overload-default-args.md)**
    - ä»Ž `abs`ã€`average` ç­‰ä¾‹å­å‡ºå‘ï¼Œè®²æ¸…é‡è½½å†³è®®è§„åˆ™ã€ä¸ºä»€ä¹ˆè¿”å›žç±»åž‹ä¸èƒ½å•ç‹¬åŒºåˆ†é‡è½½ï¼Œä»¥åŠé»˜è®¤å‚æ•°å’Œé‡è½½å„è‡ªé€‚åˆçš„ä½¿ç”¨åœºæ™¯ã€‚

- [x] **[ä»Ž struct åˆ° classï¼šC++ é¢å‘å¯¹è±¡çš„æœ€å°å­é›†](./cpp-struct-to-class.md)**
    - ç«™åœ¨ C é£Žæ ¼ struct çš„è§†è§’ï¼Œè®¤è¯† C++ ä¸­ struct/class çš„å…³ç³»ã€æž„é€ å‡½æ•°ä¸Žæžæž„å‡½æ•°çš„åŸºæœ¬è§’è‰²ï¼Œä»¥åŠâ€œå¯¹è±¡ + RAIIâ€è¿™ä¸€æ•´å¥—æœ€å°é¢å‘å¯¹è±¡è§‚å¿µï¼Œä¸åœ¨æœ¬ä¸“æ å±•å¼€å¤æ‚çš„ç»§æ‰¿ä¸Žå¤šæ€ç»†èŠ‚ã€‚

---

## ç¬¬äºŒéƒ¨åˆ†ï¼šæŒ‡é’ˆä¸Žå†…å­˜

åœ¨ C è¯¾ä¸Šï¼Œä½ å·²ç»æŽ¥è§¦è¿‡æŒ‡é’ˆï¼Œä½†å¾ˆå¤šæ—¶å€™åªæ˜¯â€œç…§ç€å†™èƒ½è·‘èµ·æ¥â€ã€‚

è¿™ä¸€éƒ¨åˆ†çš„ç›®æ ‡ï¼Œæ˜¯åœ¨ C çš„æŒ‡é’ˆåŸºç¡€ä¸Šï¼Œå¸®ä½ çœŸæ­£å»ºç«‹èµ·ä¸€å¹…**å†…å­˜æ¨¡åž‹çš„å¿ƒæ™ºå›¾**ï¼š

- å†…å­˜å¯ä»¥æ€Žæ ·è¢«æŠ½è±¡æˆä¸€æ¡â€œåœ°å€çº¿â€ï¼›
- æ ˆä¸Šçš„å±€éƒ¨å˜é‡å’Œå †ä¸Šçš„åŠ¨æ€åˆ†é…æœ‰ä½•ä¸åŒï¼›
- ä¸ºä»€ä¹ˆåœ¨ C++ é‡Œï¼Œâ€œå€¼è¯­ä¹‰â€å’Œâ€œå¼•ç”¨è¯­ä¹‰â€ä¼šå¯¹æŽ¥å£è®¾è®¡äº§ç”Ÿå·¨å¤§å½±å“ã€‚

- [x] **[æŒ‡é’ˆå…¥é—¨ï¼šä»Žå†…å­˜åœ°å€åˆ°æŒ‡é’ˆæ“ä½œ](./cpp-pointers-basics.md)**
    - å†…å­˜åœ°å€çš„æ¦‚å¿µã€`*` ä¸Ž `&` æ“ä½œç¬¦ã€æŒ‡é’ˆçš„ç®—æœ¯è¿ç®—ã€‚

- [ ] **æ ˆä¸Žå †ï¼šç†è§£ C++ çš„å†…å­˜ä¸–ç•Œ** (ðŸš§ è®¡åˆ’ä¸­)
    - å±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸã€new/deleteã€ä¸ºä»€ä¹ˆä¼šæœ‰å†…å­˜æ³„æ¼ã€å€¼è¯­ä¹‰ vs å¼•ç”¨è¯­ä¹‰ã€‚

- [x] **[æ­ç§˜ Redis å­—ç¬¦ä¸²ï¼šC++ ç¨‹åºå‘˜çš„é¢è¯•åŠ åˆ†é¡¹ SDS](./sds-intro.md)**
    - å€Ÿ Redis çš„ SDS è®¾è®¡ï¼Œé‡æ–°å®¡è§† C å­—ç¬¦ä¸²çš„åŽ†å²åŒ…è¢±ï¼Œç†è§£â€œé•¿åº¦ + å‰©ä½™ç©ºé—´â€è¿™å¥—å†…å­˜å¸ƒå±€å¦‚ä½•åœ¨å·¥ç¨‹é‡Œè§£å†³æ€§èƒ½ä¸Žå®‰å…¨é—®é¢˜ã€‚

- [x] **[std::string çš„â€œå…­å®—ç½ªâ€ï¼šC++ æœ€å¸¸ç”¨ç±»çš„éšè—é™·é˜±](./std-string-pitfalls.md)**
    - ç«™åœ¨æ€§èƒ½è§†è§’æ‹†è§£ `std::string` çš„å®žçŽ°ç»†èŠ‚ï¼ˆSSOã€å†…å­˜åˆ†é…ã€ä¸´æ—¶å¯¹è±¡ç­‰ï¼‰ï¼Œå¸®åŠ©ä½ åœ¨çœŸå®žé¡¹ç›®é‡Œç”¨å¯¹è€Œä¸æ˜¯æ»¥ç”¨å®ƒã€‚

- [x] **[`string_view` çŽ°èº«ä¹‹å‰ï¼šC++å„å¤§é—¨æ´¾çš„â€œé›¶æ‹·è´â€å¾€äº‹](./string-view-precursors.md)**
    - å›žé¡¾ Google StringPieceã€LevelDB Sliceã€Qt QStringRef ç­‰ç»å…¸å®žçŽ°ï¼Œçœ‹ C++ ç¤¾åŒºå¦‚ä½•åœ¨æ ‡å‡†åŒ– `std::string_view` ä¹‹å‰æŽ¢ç´¢â€œé›¶æ‹·è´å­—ç¬¦ä¸²è§†å›¾â€è¿™æ¡è·¯ã€‚

---

## ç¬¬ä¸‰éƒ¨åˆ†ï¼šç¼–è¯‘ä¸Žé“¾æŽ¥

åœ¨ C é‡Œï¼Œä½ å¤§æ¦‚å·²ç»è§è¿‡â€œå¤´æ–‡ä»¶ + æºæ–‡ä»¶ + ç¼–è¯‘/é“¾æŽ¥â€è¿™ä¸€å¥—ï¼Œä½†å¾ˆå¤šè¯¾ç¨‹åªæ˜¯ç•¥å¸¦ä¸€æã€‚

è¿™ä¸€éƒ¨åˆ†ä¼šä»Ž C å†å¾€å‰èµ°ä¸€æ­¥ï¼Œç³»ç»Ÿæ€§åœ°æ¢³ç†ï¼š

- å¤´æ–‡ä»¶å­˜åœ¨çš„çœŸæ­£åŽŸå› æ˜¯ä»€ä¹ˆï¼›
- `#include` åœ¨é¢„å¤„ç†é˜¶æ®µåˆ°åº•åšäº†ä»€ä¹ˆï¼›
- ä¸ºä»€ä¹ˆâ€œåªæœ‰ä¸€ä¸ªå®šä¹‰â€ï¼ˆODRï¼‰ä¼šå˜æˆ C++ é¡¹ç›®é‡Œç»å¸¸è¸©åˆ°çš„å‘ã€‚

- [x] **[å£°æ˜Žä¸Žå®šä¹‰ï¼šä»£ç ä¸ºä»€ä¹ˆè¦æ‹†æˆä¸¤ä»½ï¼Ÿ](./cpp-declaration-definition.md)**
    - ä»Žâ€œæœªå£°æ˜Žçš„æ ‡è¯†ç¬¦â€æŠ¥é”™å‡ºå‘ï¼Œè®²æ¸…å£°æ˜Žä¸Žå®šä¹‰çš„è¯­æ³•åŒºåˆ«ã€å¤´æ–‡ä»¶å­˜åœ¨çš„çœŸæ­£ç†ç”±ï¼Œä»¥åŠå•ä¸€å®šä¹‰è§„åˆ™ï¼ˆODRï¼‰æ˜¯å¦‚ä½•ä»Žç¼–è¯‘/é“¾æŽ¥æ¨¡åž‹ä¸­è‡ªç„¶é•¿å‡ºæ¥çš„ã€‚

- [ ] **ç¼–è¯‘ä¸Žé“¾æŽ¥ï¼šä»£ç å¦‚ä½•å˜æˆç¨‹åº** (ðŸš§ è®¡åˆ’ä¸­)
    - `#include` çš„æœ¬è´¨ã€å¤´æ–‡ä»¶ä¸Žæºæ–‡ä»¶åˆ†ç¦»ã€ç¿»è¯‘å•å…ƒä¸Žé“¾æŽ¥è¿‡ç¨‹çš„æ•´ä½“è§†å›¾ã€‚

- [x] **[å‘½åç©ºé—´ (namespace) è¯¦è§£](./cpp-namespace-guide.md)**
    - å‘½åå†²çªçš„æ ¹æºã€åµŒå¥—å‘½åç©ºé—´ã€ç‰ˆæœ¬æŽ§åˆ¶ (inline namespace)ã€‚

- [x] **[åŒ¿åå‘½åç©ºé—´è¯¦è§£](./cpp-anonymous-namespace.md)**
    - æ›¿ä»£ `static` çš„çŽ°ä»£æ–¹æ¡ˆã€å†…éƒ¨é“¾æŽ¥ã€éšè—å®žçŽ°ç»†èŠ‚ã€‚

---

## ç¬¬å››éƒ¨åˆ†ï¼šèµ„æºç®¡ç† (RAII)

åœ¨ C é‡Œï¼Œä½ å¯èƒ½ä¹ æƒ¯äºŽâ€œè° `malloc` è° `free`â€ï¼Œæˆ–è€…æŠŠæ–‡ä»¶å¥æŸ„ã€é”ã€å¥—æŽ¥å­—çš„é‡Šæ”¾å…¨éƒ½å†™åœ¨ä¸€å † `goto`/`if` åˆ†æ”¯é‡Œã€‚

è¿™ä¸€éƒ¨åˆ†ä¼šä»‹ç» C++ æä¾›çš„å¦ä¸€ç§æ€è·¯ï¼šé€šè¿‡æž„é€ å‡½æ•°å’Œæžæž„å‡½æ•°ï¼ŒæŠŠâ€œèŽ·å–/é‡Šæ”¾èµ„æºâ€çš„é€»è¾‘å’Œå¯¹è±¡ç”Ÿå‘½å‘¨æœŸç»‘åœ¨ä¸€èµ·ï¼Œä»Žè€Œå‡å°‘é—å¿˜å’Œåˆ†æ”¯é—æ¼â€”â€”è¿™å°±æ˜¯ RAII çš„æ ¸å¿ƒæƒ³æ³•ï¼Œä¹Ÿæ˜¯ç†è§£æ™ºèƒ½æŒ‡é’ˆå’ŒçŽ°ä»£ C++ åº•å±‚é£Žæ ¼çš„åŸºç¡€ã€‚

- [ ] **RAIIï¼šC++ çš„èµ„æºç®¡ç†å“²å­¦** (ðŸš§ è®¡åˆ’ä¸­)
    - æž„é€ èŽ·å–ã€æžæž„é‡Šæ”¾ã€æ™ºèƒ½æŒ‡é’ˆç®€ä»‹ï¼ˆunique_ptr / shared_ptrï¼‰ã€ä¸ºä»€ä¹ˆåº”è¯¥å¿˜æŽ‰è£¸ new/deleteã€‚

---

> **è¯»å®Œè¿™ä¸ªä¸“æ åŽ**ï¼Œä½ åº”è¯¥èƒ½åœ¨è„‘ä¸­å½¢æˆè¿™æ ·ä¸€å¹…å›¾æ™¯ï¼š
>
> - åœ¨ C çš„ç±»åž‹å’ŒæŒ‡é’ˆä¹‹ä¸Šï¼ŒC++ å¦‚ä½•ç”¨ç±»åž‹ç³»ç»Ÿè¡¨è¾¾æ›´å¤šçº¦æŸï¼›
> - C/C++ å…±ç”¨çš„å†…å­˜ä¸Žç¼–è¯‘æ¨¡åž‹é‡Œï¼Œå“ªäº›æ˜¯ C++ ç¨‹åºå‘˜å¿…é¡»ç‰¹åˆ«åœ¨æ„çš„éƒ¨åˆ†ï¼›
> - ä¸ºä»€ä¹ˆä¸€æåˆ°èµ„æºç®¡ç†ï¼ŒC++ ç¤¾åŒºæ€»åœ¨å¼ºè°ƒ RAII å’Œâ€œä¸è¦è‡ªå·±åˆ°å¤„å†™ delete/freeâ€ã€‚
> - åœ¨é‡åˆ°å®žé™…çš„å°é¡¹ç›®æˆ–ä¸šåŠ¡éœ€æ±‚æ—¶ï¼Œèƒ½å¤Ÿè‡ªè§‰åœ°é€‰ç”¨ C++ çš„åŸºæœ¬å·¥å…·ï¼ˆç±»ã€RAIIã€å‘½åç©ºé—´ç­‰ï¼‰ï¼Œè€Œä¸æ˜¯ç»§ç»­ç”¨â€œC å†™æ³•â€ç¡¬æ’‘ã€‚
>
> **ä¸‹ä¸€æ­¥**ï¼šç»§ç»­é˜…è¯» **[Modern C++](/docs/cpp-modern)** ä¸“æ ï¼Œå­¦ä¹  C++11 ~ C++26 çš„æ–°ç‰¹æ€§å’Œæ›´æ·±å…¥çš„æŠ€æœ¯ç»†èŠ‚ã€‚
>
> *æ ‡è®°ä¸º ðŸš§ çš„å†…å®¹æ­£åœ¨æ’°å†™ä¸­ã€‚*